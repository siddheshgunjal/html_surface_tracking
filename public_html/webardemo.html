<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.5/aframe/build/aframe-ar.js"></script>

        <script>
            AFRAME.registerComponent('modify-materials', {
                init: function () {
                    // Wait for model to load.
                    this.el.addEventListener('model-loaded', () => {
                        // Grab the mesh / scene.
                        const obj = this.el.getObject3D('mesh');
                        // Go over the submeshes and modify materials we want.
                        obj.traverse(node => {
                            if (node.name.indexOf('ship') !== -1) {
                                node.material.color.set('red');
                            }
                        });
                    });
                }
            });
        </script>
    </script>
</head>
<body style="margin : 0px; overflow: hidden;">
<a-scene embedded arjs='trackingMethod: best; patternRatio: 0.9; debugUIEnabled: false; maxDetectionRate:30;' antialias="true">        
    <!--<a-marker emitevents="true" id="logo-marker" type="pattern" url="marker/pattern-marker.patt" cursor="rayOrigin: mouse" markerhandler>-->

    <a-marker id="marker3" type='pattern' url='markers/pattern-marker.patt' emitevents="true" cursor="rayOrigin: mouse" mappoint-handler>
        <!--<a-box position='0 0 0' material='color: red;'></a-box>-->
        <a-plane id="img-map" scale = "2 2" position='0 0.1 0' rotation="-90 0 0" material='transparent:true;src:#map-point'></a-plane>
        <!--<a-entity text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Fun Moments"></a-entity>-->


        <!--        <a-entity id="animated-shark" gltf-model="#shark"
                          position="0 0 0"
                          rotation="0 0 0"
                          scale="0.001 0.001 0.001"
                          crossOrigin="anonymous"
                          dinoInteractionListener>
                </a-entity>-->
        <!--<a-entity sound="src: #roar_sound; volume: 1; loop: true"></a-entity>-->

        <!--        <a-entity id="shark" light="type: point; intensity: 5.1;" position="0 0 0"></a-entity>
                <a-entity camera="active: true; near: 1; far: 1000;"
                          position="0 0 0"
                          cursor="rayOrigin: mouse"
                          data-aframe-default-camera>
                </a-entity>-->
    </a-marker>       


    <a-assets>

        <a-asset-item id="shark" src="https://raw.githubusercontent.com/bhosleprachi/3d_project/master/shark/scene.gltf" ></a-asset-item>
    </a-assets>
    <a-entity gltf-model="#shark" modify-materials scale="1 1 1"
              light="type: point; intensity: 5.1;" position="1 1 1"
              ></a-entity>



</a-scene>


</body>
</html>
